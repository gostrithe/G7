import{u as j,k as l,l as dt,m as _t,q as ut,s as w,v as vt,x as ht,y as Q,r as i,o as C,c as x,z as s,b as t,a as n,w as _,t as r,i as y,A as pt,B as mt,j as gt,C as ft,D as bt,E as wt,G as Ct,F as xt,e as kt}from"./index.dff3b4e7.js";function yt(h){const e=["\u9738\u603B","\u4FEE\u771F","\u604B\u7231","\u6821\u56ED","\u5192\u9669","\u641E\u7B11","\u751F\u6D3B","\u70ED\u8840","\u67B6\u7A7A","\u540E\u5BAB","","\u7384\u5E7B","\u60AC\u7591","\u6050\u6016","\u7075\u5F02","\u52A8\u4F5C","\u79D1\u5E7B","\u6218\u4E89","\u53E4\u98CE","\u7A7F\u8D8A","\u7ADE\u6280","\u52B1\u5FD7","\u540C\u4EBA","\u771F\u4EBA"];return h.split(",").map(o=>e[o*1-1]).join("\xB7")}function Bt(){const h=j(),e=l(0),o=h.fullPath,g=k=>{if(h.fullPath===o){var d=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;e.value=d}};return dt(()=>{window.addEventListener("scroll",g)}),_t(()=>{window.removeEventListener("scroll",g)}),e}const Lt={key:0},Nt={class:"navBar"},Tt={class:"coverBox"},Dt={class:"info"},St={class:"title"},Vt={class:"underTitle"},zt={class:"underTitle"},$t={class:"hotNumber"},Gt=t("div",{class:"shadow"},[t("img",{class:"bg1",src:"https://raw.githubusercontent.com/gostrithe/G7/main/imgs/bg_detail_bannerbg.png"}),t("img",{class:"bg2",src:"https://raw.githubusercontent.com/gostrithe/G7/main/imgs/bg_banner.png"})],-1),It={class:"beginAndContinute"},Rt={class:"detailAndList"},At={class:"detailInfo"},Et={class:"notice"},Qt=t("div",{class:"recommend"},[t("h3",null,"^_^\u4E3B\u4EBA\uFF0C\u8FD9\u6709\u76F8\u5173\u6F2B\u753B\u4E3A\u4F60\u63A8\u8350~")],-1),jt={class:"listTop"},Ut=t("h5",null,"\u8FDE\u8F7D",-1),qt={class:"van-ellipsis"},Yt=t("div",{class:"iconSort"},null,-1),Ft=["onClick"],Pt=gt('<a href="/login"><div class="item"><i class="yp"></i><span>\u6708\u7968</span></div></a><a href="/login"><div class="item"><i class="ds"></i><span>\u6253\u8D4F</span></div></a>',2),Ht=t("div",{class:"item"},[t("i",{class:"share"}),t("span",null,"\u5206\u4EAB")],-1),Mt=[Ht],Ot={class:"popup"},Wt=t("div",{class:"shareBody"},[t("h5",null,"\u5206\u4EAB\u7ED9\u670B\u53CB"),t("div",{class:"flexBox"},[t("a",{href:"/login"},[t("div",{class:"shareQQ aDiv"}),t("p",null,"QQ")]),t("a",{href:"/login"},[t("div",{class:"shareQzone aDiv"}),t("p",null,"qq\u7A7A\u95F4")]),t("a",{href:"/login"},[t("div",{class:"shareWB aDiv"}),t("p",null,"\u5FAE\u535A")])])],-1),Xt={__name:"NovelView",async setup(h){let e,o;const g=Bt(),k=j(),d=k.params.id,B=ut(),U=()=>history.back(),q=()=>B.push("/"),Y=()=>{},F=([e,o]=w(()=>ft(d)),e=await e,o(),e),{title:L,cover_lateral:P,theme_id:H,author_id:M,content:O,notice:W}=vt(ht(F));let N=l(0);N.value=([e,o]=w(()=>bt(d)),e=await e,o(),e);let T=l(0);T.value=([e,o]=w(()=>wt(d)),e=await e,o(),e);const D=l("list");let p=([e,o]=w(()=>Ct(d)),e=await e,o(),e),{start_time:J,title:K}=p[p.length-1];const u=l([]),f=l(!1),S=l(!1);let m=0;const V=()=>{u.value=u.value.concat(p.slice(m,m+20)),f.value=!1,m=m+20,u.value.length>=p.length&&(S.value=!0)},b=l(!1),z=()=>{b.value=!0},$=l(["\u6B63\u5E8F","\u9006\u5E8F"]),X=()=>{u.value=[],p.reverse(),$.value.reverse(),m=0,f.value=!0,V()},G=l(null),I=l(null);Q("chapterTitle",I),Q("listIndex",G);const Z=(R,c,v)=>{B.replace(`/${R}/${c}`),G.value=v,I.value=u.value[v].title};return(R,c)=>{const v=i("van-icon"),tt=i("van-nav-bar"),A=i("van-image"),et=i("van-action-bar-icon"),nt=i("van-action-bar-button"),st=i("van-action-bar"),E=i("van-tab"),ot=i("van-cell"),at=i("van-list"),it=i("van-tabs"),lt=i("van-popup"),ct=i("router-view");return C(),x("div",null,[s(k).params.chapterId?mt("",!0):(C(),x("div",Lt,[t("div",Nt,[n(tt,{title:s(L),"left-arrow":"",onClickLeft:U,border:!1},{right:_(()=>[n(v,{onClick:z,name:"https://raw.githubusercontent.com/gostrithe/G7/main/imgs/ic_nav_share.png",size:"21"}),n(v,{onClick:q,name:"https://raw.githubusercontent.com/gostrithe/G7/main/imgs/ic_nav_gohome.png",size:"21"})]),_:1},8,["title"])]),t("div",Tt,[n(A,{fit:"contain",width:"100%",height:"210",src:`${s(P)}!banner-600-x`},null,8,["src"]),t("div",Dt,[t("p",St,r(s(L)),1),t("p",Vt,"\u4E3B\u7B14id:"+r(s(M)),1),t("p",zt,r(s(yt)(s(H))),1),t("div",$t,[n(v,{name:"fire"}),y(r(s(N)),1)])]),Gt]),t("div",It,[n(st,null,{default:_(()=>[n(et,{icon:"https://raw.githubusercontent.com/gostrithe/G7/main/imgs/ic_detail_coll_off.png",text:`\u6536\u85CF(${s(T)})`},null,8,["text"]),n(nt,{type:"danger",text:"\u5F00\u59CB\u9605\u8BFB",onClick:Y})]),_:1})]),t("div",Rt,[n(it,{active:D.value,"onUpdate:active":c[1]||(c[1]=a=>D.value=a),"line-width":"55",color:"#ff7830","title-active-color":"#000"},{default:_(()=>[n(E,{"title-style":"font-size: 16px;",title:"\u8BE6\u60C5",name:"detail"},{default:_(()=>[t("div",null,[t("div",At,[y(r(s(O))+" ",1),t("div",Et,r(s(W)),1)]),Qt])]),_:1}),n(E,{"title-style":"font-size: 16px;",title:"\u76EE\u5F55",name:"list"},{default:_(()=>[t("div",null,[t("div",jt,[Ut,t("span",qt,r(new Date(s(J)*1e3).toLocaleDateString().split("/").join("."))+"\u66F4\u65B0\u81F3"+r(s(K)),1),t("div",{class:"sortBtn",onClick:X},[Yt,y(" "+r($.value[0]),1)])]),n(at,{loading:f.value,"onUpdate:loading":c[0]||(c[0]=a=>f.value=a),finished:S.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:V},{default:_(()=>[(C(!0),x(xt,null,kt(u.value,(a,rt)=>(C(),x("div",{class:"listItem",key:a.chapter_id,onClick:Jt=>Z(s(d),a.chapter_id,rt)},[n(A,{radius:"4",width:"120",height:"68",src:`${a.cover}!banner-600-x`},null,8,["src"]),n(ot,{title:a.title,label:new Date(a.start_time*1e3).toLocaleDateString().split("/").join("-")},null,8,["title","label"])],8,Ft))),128))]),_:1},8,["loading","finished"])])]),_:1})]),_:1},8,["active"])]),t("div",{class:"bottomBar"},[Pt,t("a",{href:"#",onClick:z},Mt)]),n(lt,{duration:".1",show:b.value,"onUpdate:show":c[3]||(c[3]=a=>b.value=a),position:"bottom",style:pt({backgroundColor:"rgba(255,255,255,0)"})},{default:_(()=>[t("div",Ot,[Wt,t("div",{class:"cancelBtn",onClick:c[2]||(c[2]=a=>b.value=!1)}," \u53D6\u6D88 ")])]),_:1},8,["show","style"])])),n(ct,{sT:s(g)},null,8,["sT"])])}}};export{Xt as default};
