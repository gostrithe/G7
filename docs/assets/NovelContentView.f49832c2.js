import{_ as V,u as E,q as S,s as x,H as C,k as b,l as D,I as Y,o as m,c as v,b as e,F as j,e as A,z as _,i as k,t as u,G as F,J as H,T as P,p as R,h as q}from"./index.785ec128.js";const n=a=>(R("data-v-85b9b1a6"),a=a(),q(),a),z=["src"],G={class:"poa"},J={class:"endBox"},M=n(()=>e("i",{class:"pre"},null,-1)),O=n(()=>e("span",null,"\u4E0A\u4E00\u7AE0",-1)),U=[M,O],W=n(()=>e("i",{class:"back"},null,-1)),$=n(()=>e("span",null,"\u8FD4\u56DE\u8BE6\u60C5",-1)),K=[W,$],Q=n(()=>e("i",{class:"next"},null,-1)),X=n(()=>e("span",null,"\u4E0B\u4E00\u7AE0",-1)),Z=[Q,X],ee={__name:"NovelContentView",props:["sT"],async setup(a){let t,r;const p=a,d=E(),T=S();[t,r]=x(()=>F(d.params.id)),t=await t,r();const h=([t,r]=x(()=>H(d.params.id,d.params.chapterId)),t=await t,r(),t),g=C("chapterTitle"),N=C("listIndex"),l=b(1),w=/\-(\d+)x(\d+).jpg!/,c=h.map(s=>{let i=w.exec(s.image)[1],o=w.exec(s.image)[2];return window.screen.width/i*o});c.reduce((s,i,o)=>(c[o]=i+s,i+s),0),c.unshift(0);const y=b(null);function f(s){window.scrollY>c[l.value]&&l.value++,window.scrollY<c[l.value-1]&&l.value--}D(()=>window.addEventListener("scroll",f)),Y(()=>{window.removeEventListener("scroll",f)});const I=()=>{N.value==0&&P({teleport:".endBox",message:"\u6CA1\u6709\u4E0A\u4E00\u8BDD\u4E86",position:"bottom"})},B=()=>{document.documentElement.scrollTop=p.sT,document.body.scrollTop=p.sT,window.pageYOffset=p.sT,T.replace(`/${d.params.id}`)},L=()=>{};return(s,i)=>(m(),v("div",{ref_key:"novelContent",ref:y,class:"novelContent"},[e("ul",null,[(m(!0),v(j,null,A(_(h),o=>(m(),v("li",{key:o.page_id},[e("img",{ref_for:!0,ref:"imgs",src:o.image},null,8,z)]))),128))]),e("div",G,[k(u(_(g))+" ",1),e("span",null,u(l.value)+"/"+u(_(h).length),1)]),e("div",J,[e("p",null,[k("\u60A8\u5DF2\u9605\u8BFB\u5B8C\uFF1A"),e("span",null,u(_(g)),1)]),e("div",{class:"btns"},[e("a",{onClick:I},U),e("a",{onClick:B},K),e("a",{onClick:L},Z)])])],512))}},oe=V(ee,[["__scopeId","data-v-85b9b1a6"]]);export{oe as default};
